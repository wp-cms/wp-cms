(function($,undefined){var acs={};window.acs=acs;acs.data={};acs.get=function(name){return this.data[name]||null};acs.has=function(name){return this.get(name)!==null};acs.set=function(name,value){this.data[name]=value;return this};var idCounter=0;acs.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id};acs.uniqueArray=function(array){function onlyUnique(value,index,self){return self.indexOf(value)===index}return array.filter(onlyUnique)};var uniqidSeed="";acs.uniqid=function(prefix,moreEntropy){if(typeof prefix==="undefined"){prefix=""}var retId;var formatSeed=function(seed,reqWidth){seed=parseInt(seed,10).toString(16);if(reqWidth<seed.length){return seed.slice(seed.length-reqWidth)}if(reqWidth>seed.length){return Array(1+(reqWidth-seed.length)).join("0")+seed}return seed};if(!uniqidSeed){uniqidSeed=Math.floor(Math.random()*123456789)}uniqidSeed++;retId=prefix;retId+=formatSeed(parseInt((new Date).getTime()/1e3,10),8);retId+=formatSeed(uniqidSeed,5);if(moreEntropy){retId+=(Math.random()*10).toFixed(8).toString()}return retId};acs.strReplace=function(search,replace,subject){return subject.split(search).join(replace)};acs.strCamelCase=function(str){var matches=str.match(/([a-zA-Z0-9]+)/g);return matches?matches.map(function(s,i){var c=s.charAt(0);return(i===0?c.toLowerCase():c.toUpperCase())+s.slice(1)}).join(""):""};acs.strPascalCase=function(str){var camel=acs.strCamelCase(str);return camel.charAt(0).toUpperCase()+camel.slice(1)};acs.strSlugify=function(str){return acs.strReplace("_","-",str.toLowerCase())};acs.strSanitize=function(str){var map={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","ß":"s","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Ĉ":"C","ĉ":"c","Ċ":"C","ċ":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"G","ĝ":"g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"H","ĥ":"h","Ħ":"H","ħ":"h","Ĩ":"I","ĩ":"i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĳ":"IJ","ĳ":"ij","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"l","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","ŉ":"n","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ŝ":"S","ŝ":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","Ũ":"U","ũ":"u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","ſ":"s","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","Ǎ":"A","ǎ":"a","Ǐ":"I","ǐ":"i","Ǒ":"O","ǒ":"o","Ǔ":"U","ǔ":"u","Ǖ":"U","ǖ":"u","Ǘ":"U","ǘ":"u","Ǚ":"U","ǚ":"u","Ǜ":"U","ǜ":"u","Ǻ":"A","ǻ":"a","Ǽ":"AE","ǽ":"ae","Ǿ":"O","ǿ":"o"," ":"_","'":"","?":"","/":"","\\":"",".":"",",":"","`":"",">":"","<":"",'"':"","[":"","]":"","|":"","{":"","}":"","(":"",")":""};var nonWord=/\W/g;var mapping=function(c){return map[c]!==undefined?map[c]:c};str=str.replace(nonWord,mapping);str=str.toLowerCase();return str};acs.strMatch=function(s1,s2){var val=0;var min=Math.min(s1.length,s2.length);for(var i=0;i<min;i++){if(s1[i]!==s2[i]){break}val++}return val};acs.strEscape=function(string){var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return(""+string).replace(/[&<>"']/g,function(chr){return htmlEscapes[chr]})};acs.strUnescape=function(string){var htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};return(""+string).replace(/&amp;|&lt;|&gt;|&quot;|&#39;/g,function(entity){return htmlUnescapes[entity]})};acs.escAttr=acs.strEscape;acs.escHtml=function(string){return(""+string).replace(/<script|<\/script/g,function(html){return acs.strEscape(html)})};acs.decode=function(string){return $("<textarea/>").html(string).text()};acs.parseArgs=function(args,defaults){if(typeof args!=="object")args={};if(typeof defaults!=="object")defaults={};return $.extend({},defaults,args)};if(window.acsL10n==undefined){acsL10n={}}acs.__=function(text){return acsL10n[text]||text};acs._x=function(text,context){return acsL10n[text+"."+context]||acsL10n[text]||text};acs._n=function(single,plural,number){if(number==1){return acs.__(single)}else{return acs.__(plural)}};acs.isArray=function(a){return Array.isArray(a)};acs.isObject=function(a){return typeof a==="object"};var buildObject=function(obj,name,value){name=name.replace("[]","[%%index%%]");var keys=name.match(/([^\[\]])+/g);if(!keys)return;var length=keys.length;var ref=obj;for(var i=0;i<length;i++){var key=String(keys[i]);if(i==length-1){if(key==="%%index%%"){ref.push(value)}else{ref[key]=value}}else{if(keys[i+1]==="%%index%%"){if(!acs.isArray(ref[key])){ref[key]=[]}}else{if(!acs.isObject(ref[key])){ref[key]={}}}ref=ref[key]}}};acs.serialize=function($el,prefix){var obj={};var inputs=acs.serializeArray($el);if(prefix!==undefined){inputs=inputs.filter(function(item){return item.name.indexOf(prefix)===0}).map(function(item){item.name=item.name.slice(prefix.length);return item})}for(var i=0;i<inputs.length;i++){buildObject(obj,inputs[i].name,inputs[i].value)}return obj};acs.serializeArray=function($el){return $el.find("select, textarea, input").serializeArray()};acs.serializeForAjax=function($el){var data={};var index={};var inputs=acs.serializeArray($el);inputs.map(function(item){if(item.name.slice(-2)==="[]"){data[item.name]=data[item.name]||[];data[item.name].push(item.value)}else{data[item.name]=item.value}});return data};acs.addAction=function(action,callback,priority,context){acs.hooks.addAction.apply(this,arguments);return this};acs.removeAction=function(action,callback){acs.hooks.removeAction.apply(this,arguments);return this};var actionHistory={};acs.doAction=function(action){actionHistory[action]=1;acs.hooks.doAction.apply(this,arguments);actionHistory[action]=0;return this};acs.doingAction=function(action){return actionHistory[action]===1};acs.didAction=function(action){return actionHistory[action]!==undefined};acs.currentAction=function(){for(var k in actionHistory){if(actionHistory[k]){return k}}return false};acs.addFilter=function(action){acs.hooks.addFilter.apply(this,arguments);return this};acs.removeFilter=function(action){acs.hooks.removeFilter.apply(this,arguments);return this};acs.applyFilters=function(action){return acs.hooks.applyFilters.apply(this,arguments)};acs.arrayArgs=function(args){return Array.prototype.slice.call(args)};try{var preferences=JSON.parse(localStorage.getItem("acs"))||{}}catch(e){var preferences={}}var getPreferenceName=function(name){if(name.substr(0,5)==="this."){name=name.substr(5)+"-"+acs.get("post_id")}return name};acs.getPreference=function(name){name=getPreferenceName(name);return preferences[name]||null};acs.setPreference=function(name,value){name=getPreferenceName(name);if(value===null){delete preferences[name]}else{preferences[name]=value}localStorage.setItem("acs",JSON.stringify(preferences))};acs.removePreference=function(name){acs.setPreference(name,null)};acs.remove=function(props){if(props instanceof jQuery){props={target:props}}props=acs.parseArgs(props,{target:false,endHeight:0,complete:function(){}});acs.doAction("remove",props.target);if(props.target.is("tr")){removeTr(props)}else{removeDiv(props)}};var removeDiv=function(props){var $el=props.target;var height=$el.height();var width=$el.width();var margin=$el.css("margin");var outerHeight=$el.outerHeight(true);var style=$el.attr("style")+"";$el.wrap('<div class="acs-temp-remove" style="height:'+outerHeight+'px"></div>');var $wrap=$el.parent();$el.css({height:height,width:width,margin:margin,position:"absolute"});setTimeout(function(){$wrap.css({opacity:0,height:props.endHeight})},50);setTimeout(function(){$el.attr("style",style);$wrap.remove();props.complete()},301)};var removeTr=function(props){var $tr=props.target;var height=$tr.height();var children=$tr.children().length;var $td=$('<td class="acs-temp-remove" style="padding:0; height:'+height+'px" colspan="'+children+'"></td>');$tr.addClass("acs-remove-element");setTimeout(function(){$tr.html($td)},251);setTimeout(function(){$tr.removeClass("acs-remove-element");$td.css({height:props.endHeight})},300);setTimeout(function(){$tr.remove();props.complete()},451)};acs.duplicate=function(args){if(args instanceof jQuery){args={target:args}}args=acs.parseArgs(args,{target:false,search:"",replace:"",rename:true,before:function($el){},after:function($el,$el2){},append:function($el,$el2){$el.after($el2)}});args.target=args.target||args.$el;var $el=args.target;args.search=args.search||$el.attr("data-id");args.replace=args.replace||acs.uniqid();args.before($el);acs.doAction("before_duplicate",$el);var $el2=$el.clone();if(args.rename){acs.rename({target:$el2,search:args.search,replace:args.replace,replacer:typeof args.rename==="function"?args.rename:null})}$el2.removeClass("acs-clone");$el2.find(".ui-sortable").removeClass("ui-sortable");args.after($el,$el2);acs.doAction("after_duplicate",$el,$el2);args.append($el,$el2);acs.doAction("duplicate",$el,$el2);acs.doAction("append",$el2);return $el2};acs.rename=function(args){if(args instanceof jQuery){args={target:args}}args=acs.parseArgs(args,{target:false,destructive:false,search:"",replace:"",replacer:null});var $el=args.target;if(!args.search){args.search=$el.attr("data-id")}if(!args.replace){args.replace=acs.uniqid("acs")}if(!args.replacer){args.replacer=function(name,value,search,replace){return value.replace(search,replace)}}var withReplacer=function(name){return function(i,value){return args.replacer(name,value,args.search,args.replace)}};if(args.destructive){var html=acs.strReplace(args.search,args.replace,$el.outerHTML());$el.replaceWith(html)}else{$el.attr("data-id",args.replace);$el.find('[id*="'+args.search+'"]').attr("id",withReplacer("id"));$el.find('[for*="'+args.search+'"]').attr("for",withReplacer("for"));$el.find('[name*="'+args.search+'"]').attr("name",withReplacer("name"))}return $el};acs.prepareForAjax=function(data){data.nonce=acs.get("nonce");data.post_id=acs.get("post_id");if(acs.has("language")){data.lang=acs.get("language")}data=acs.applyFilters("prepare_for_ajax",data);return data};acs.startButtonLoading=function($el){$el.prop("disabled",true);$el.after(' <i class="acs-loading"></i>')};acs.stopButtonLoading=function($el){$el.prop("disabled",false);$el.next(".acs-loading").remove()};acs.showLoading=function($el){$el.append('<div class="acs-loading-overlay"><i class="acs-loading"></i></div>')};acs.hideLoading=function($el){$el.children(".acs-loading-overlay").remove()};acs.updateUserSetting=function(name,value){var ajaxData={action:"acs/ajax/user_setting",name:name,value:value};$.ajax({url:acs.get("ajaxurl"),data:acs.prepareForAjax(ajaxData),type:"post",dataType:"html"})};acs.val=function($input,value,silent){var prevValue=$input.val();if(value===prevValue){return false}$input.val(value);if($input.is("select")&&$input.val()===null){$input.val(prevValue);return false}if(silent!==true){$input.trigger("change")}return true};acs.show=function($el,lockKey){if(lockKey){acs.unlock($el,"hidden",lockKey)}if(acs.isLocked($el,"hidden")){return false}if($el.hasClass("acs-hidden")){$el.removeClass("acs-hidden");return true}else{return false}};acs.hide=function($el,lockKey){if(lockKey){acs.lock($el,"hidden",lockKey)}if($el.hasClass("acs-hidden")){return false}else{$el.addClass("acs-hidden");return true}};acs.isHidden=function($el){return $el.hasClass("acs-hidden")};acs.isVisible=function($el){return!acs.isHidden($el)};var enable=function($el,lockKey){if($el.hasClass("acs-disabled")){return false}if(lockKey){acs.unlock($el,"disabled",lockKey)}if(acs.isLocked($el,"disabled")){return false}if($el.prop("disabled")){$el.prop("disabled",false);return true}else{return false}};acs.enable=function($el,lockKey){if($el.attr("name")){return enable($el,lockKey)}var results=false;$el.find("[name]").each(function(){var result=enable($(this),lockKey);if(result){results=true}});return results};var disable=function($el,lockKey){if(lockKey){acs.lock($el,"disabled",lockKey)}if($el.prop("disabled")){return false}else{$el.prop("disabled",true);return true}};acs.disable=function($el,lockKey){if($el.attr("name")){return disable($el,lockKey)}var results=false;$el.find("[name]").each(function(){var result=disable($(this),lockKey);if(result){results=true}});return results};acs.isset=function(obj){for(var i=1;i<arguments.length;i++){if(!obj||!obj.hasOwnProperty(arguments[i])){return false}obj=obj[arguments[i]]}return true};acs.isget=function(obj){for(var i=1;i<arguments.length;i++){if(!obj||!obj.hasOwnProperty(arguments[i])){return null}obj=obj[arguments[i]]}return obj};acs.getFileInputData=function($input,callback){var value=$input.val();if(!value){return false}var data={url:value};var file=acs.isget($input[0],"files",0);if(file){data.size=file.size;data.type=file.type;if(file.type.indexOf("image")>-1){var windowURL=window.URL||window.webkitURL;var img=new Image;img.onload=function(){data.width=this.width;data.height=this.height;callback(data)};img.src=windowURL.createObjectURL(file)}else{callback(data)}}else{callback(data)}};acs.isAjaxSuccess=function(json){return json&&json.success};acs.getAjaxMessage=function(json){return acs.isget(json,"data","message")};acs.getAjaxError=function(json){return acs.isget(json,"data","error")};acs.getXhrError=function(xhr){if(xhr.responseJSON&&xhr.responseJSON.message){return xhr.responseJSON.message}else if(xhr.statusText){return xhr.statusText}return""};acs.renderSelect=function($select,choices){var value=$select.val();var values=[];var crawl=function(items){var itemsHtml="";items.map(function(item){var text=item.text||item.label||"";var id=item.id||item.value||"";values.push(id);if(item.children){itemsHtml+='<optgroup label="'+acs.escAttr(text)+'">'+crawl(item.children)+"</optgroup>"}else{itemsHtml+='<option value="'+acs.escAttr(id)+'"'+(item.disabled?' disabled="disabled"':"")+">"+acs.strEscape(text)+"</option>"}});return itemsHtml};$select.html(crawl(choices));if(values.indexOf(value)>-1){$select.val(value)}return $select.val()};var getLocks=function($el,type){return $el.data("acs-lock-"+type)||[]};var setLocks=function($el,type,locks){$el.data("acs-lock-"+type,locks)};acs.lock=function($el,type,key){var locks=getLocks($el,type);var i=locks.indexOf(key);if(i<0){locks.push(key);setLocks($el,type,locks)}};acs.unlock=function($el,type,key){var locks=getLocks($el,type);var i=locks.indexOf(key);if(i>-1){locks.splice(i,1);setLocks($el,type,locks)}return locks.length===0};acs.isLocked=function($el,type){return getLocks($el,type).length>0};acs.isGutenberg=function(){return!!(window.wp&&wp.data&&wp.data.select&&wp.data.select("core/editor"))};acs.objectToArray=function(obj){return Object.keys(obj).map(function(key){return obj[key]})};acs.debounce=function(callback,wait){var timeout;return function(){var context=this;var args=arguments;var later=function(){callback.apply(context,args)};clearTimeout(timeout);timeout=setTimeout(later,wait)}};acs.throttle=function(callback,limit){var busy=false;return function(){if(busy)return;busy=true;setTimeout(function(){busy=false},limit);callback.apply(this,arguments)}};acs.isInView=function(el){if(el instanceof jQuery){el=el[0]}var rect=el.getBoundingClientRect();return rect.top!==rect.bottom&&rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth)};acs.onceInView=function(){var items=[];var id=0;var check=function(){items.forEach(function(item){if(acs.isInView(item.el)){item.callback.apply(this);pop(item.id)}})};var debounced=acs.debounce(check,300);var push=function(el,callback){if(!items.length){$(window).on("scroll resize",debounced).on("acsrefresh orientationchange",check)}items.push({id:id++,el:el,callback:callback})};var pop=function(id){items=items.filter(function(item){return item.id!==id});if(!items.length){$(window).off("scroll resize",debounced).off("acsrefresh orientationchange",check)}};return function(el,callback){if(el instanceof jQuery)el=el[0];if(acs.isInView(el)){callback.apply(this)}else{push(el,callback)}}}();acs.once=function(func){var i=0;return function(){if(i++>0){return func=undefined}return func.apply(this,arguments)}};acs.focusAttention=function($el){var wait=1e3;$el.addClass("acs-attention -focused");var scrollTime=500;if(!acs.isInView($el)){$("body, html").animate({scrollTop:$el.offset().top-$(window).height()/2},scrollTime);wait+=scrollTime}var fadeTime=250;setTimeout(function(){$el.removeClass("-focused");setTimeout(function(){$el.removeClass("acs-attention")},fadeTime)},wait)};acs.onFocus=function($el,callback){var ignoreBlur=false;var focus=false;var onFocus=function(){ignoreBlur=true;setTimeout(function(){ignoreBlur=false},1);setFocus(true)};var onBlur=function(){if(!ignoreBlur){setFocus(false)}};var addEvents=function(){$(document).on("click",onBlur);$el.on("blur","input, select, textarea",onBlur)};var removeEvents=function(){$(document).off("click",onBlur);$el.off("blur","input, select, textarea",onBlur)};var setFocus=function(value){if(focus===value){return}if(value){addEvents()}else{removeEvents()}focus=value;callback(value)};$el.on("click",onFocus);$el.on("focus","input, select, textarea",onFocus)};$.fn.exists=function(){return $(this).length>0};$.fn.outerHTML=function(){return $(this).get(0).outerHTML};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(val){return $.inArray(val,this)}}acs.isNumeric=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};acs.refresh=acs.debounce(function(){$(window).trigger("acsrefresh");acs.doAction("refresh")},0);$(document).ready(function(){acs.doAction("ready")});$(window).on("load",function(){setTimeout(function(){acs.doAction("load")})});$(window).on("beforeunload",function(){acs.doAction("unload")});$(window).on("resize",function(){acs.doAction("resize")});$(document).on("sortstart",function(event,ui){acs.doAction("sortstart",ui.item,ui.placeholder)});$(document).on("sortstop",function(event,ui){acs.doAction("sortstop",ui.item,ui.placeholder)})})(jQuery);(function(window,undefined){"use strict";var EventManager=function(){var MethodsAvailable={removeFilter:removeFilter,applyFilters:applyFilters,addFilter:addFilter,removeAction:removeAction,doAction:doAction,addAction:addAction,storage:getStorage};var STORAGE={actions:{},filters:{}};function getStorage(){return STORAGE}function addAction(action,callback,priority,context){if(typeof action==="string"&&typeof callback==="function"){priority=parseInt(priority||10,10);_addHook("actions",action,callback,priority,context)}return MethodsAvailable}function doAction(){var args=Array.prototype.slice.call(arguments);var action=args.shift();if(typeof action==="string"){_runHook("actions",action,args)}return MethodsAvailable}function removeAction(action,callback){if(typeof action==="string"){_removeHook("actions",action,callback)}return MethodsAvailable}function addFilter(filter,callback,priority,context){if(typeof filter==="string"&&typeof callback==="function"){priority=parseInt(priority||10,10);_addHook("filters",filter,callback,priority,context)}return MethodsAvailable}function applyFilters(){var args=Array.prototype.slice.call(arguments);var filter=args.shift();if(typeof filter==="string"){return _runHook("filters",filter,args)}return MethodsAvailable}function removeFilter(filter,callback){if(typeof filter==="string"){_removeHook("filters",filter,callback)}return MethodsAvailable}function _removeHook(type,hook,callback,context){if(!STORAGE[type][hook]){return}if(!callback){STORAGE[type][hook]=[]}else{var handlers=STORAGE[type][hook];var i;if(!context){for(i=handlers.length;i--;){if(handlers[i].callback===callback){handlers.splice(i,1)}}}else{for(i=handlers.length;i--;){var handler=handlers[i];if(handler.callback===callback&&handler.context===context){handlers.splice(i,1)}}}}}function _addHook(type,hook,callback,priority,context){var hookObject={callback:callback,priority:priority,context:context};var hooks=STORAGE[type][hook];if(hooks){hooks.push(hookObject);hooks=_hookInsertSort(hooks)}else{hooks=[hookObject]}STORAGE[type][hook]=hooks}function _hookInsertSort(hooks){var tmpHook,j,prevHook;for(var i=1,len=hooks.length;i<len;i++){tmpHook=hooks[i];j=i;while((prevHook=hooks[j-1])&&prevHook.priority>tmpHook.priority){hooks[j]=hooks[j-1];--j}hooks[j]=tmpHook}return hooks}function _runHook(type,hook,args){var handlers=STORAGE[type][hook];if(!handlers){return type==="filters"?args[0]:false}var i=0,len=handlers.length;if(type==="filters"){for(;i<len;i++){args[0]=handlers[i].callback.apply(handlers[i].context,args)}}else{for(;i<len;i++){handlers[i].callback.apply(handlers[i].context,args)}}return type==="filters"?args[0]:true}return MethodsAvailable};acs.hooks=new EventManager})(window);(function($,undefined){var delegateEventSplitter=/^(\S+)\s*(.*)$/;var extend=function(protoProps){var Parent=this;var Child;if(protoProps&&protoProps.hasOwnProperty("constructor")){Child=protoProps.constructor}else{Child=function(){return Parent.apply(this,arguments)}}$.extend(Child,Parent);Child.prototype=Object.create(Parent.prototype);$.extend(Child.prototype,protoProps);Child.prototype.constructor=Child;return Child};var Model=acs.Model=function(){this.cid=acs.uniqueId("acs");this.data=$.extend(true,{},this.data);this.setup.apply(this,arguments);if(this.$el&&!this.$el.data("acs")){this.$el.data("acs",this)}var initialize=function(){this.initialize();this.addEvents();this.addActions();this.addFilters()};if(this.wait&&!acs.didAction(this.wait)){this.addAction(this.wait,initialize)}else{initialize.apply(this)}};$.extend(Model.prototype,{id:"",cid:"",$el:null,data:{},busy:false,changed:false,events:{},actions:{},filters:{},eventScope:"",wait:false,priority:10,get:function(name){return this.data[name]},has:function(name){return this.get(name)!=null},set:function(name,value,silent){var prevValue=this.get(name);if(prevValue==value){return this}this.data[name]=value;if(!silent){this.changed=true;this.trigger("changed:"+name,[value,prevValue]);this.trigger("changed",[name,value,prevValue])}return this},inherit:function(data){if(data instanceof jQuery){data=data.data()}$.extend(this.data,data);return this},prop:function(){return this.$el.prop.apply(this.$el,arguments)},setup:function(props){$.extend(this,props)},initialize:function(){},addElements:function(elements){elements=elements||this.elements||null;if(!elements||!Object.keys(elements).length)return false;for(var i in elements){this.addElement(i,elements[i])}},addElement:function(name,selector){this["$"+name]=this.$(selector)},addEvents:function(events){events=events||this.events||null;if(!events)return false;for(var key in events){var match=key.match(delegateEventSplitter);this.on(match[1],match[2],events[key])}},removeEvents:function(events){events=events||this.events||null;if(!events)return false;for(var key in events){var match=key.match(delegateEventSplitter);this.off(match[1],match[2],events[key])}},getEventTarget:function($el,event){return $el||this.$el||$(document)},validateEvent:function(e){if(this.eventScope){return $(e.target).closest(this.eventScope).is(this.$el)}else{return true}},proxyEvent:function(callback){return this.proxy(function(e){if(!this.validateEvent(e)){return}var args=acs.arrayArgs(arguments);var extraArgs=args.slice(1);var eventArgs=[e,$(e.currentTarget)].concat(extraArgs);callback.apply(this,eventArgs)})},on:function(a1,a2,a3,a4){var $el,event,selector,callback,args;if(a1 instanceof jQuery){if(a4){$el=a1;event=a2;selector=a3;callback=a4}else{$el=a1;event=a2;callback=a3}}else{if(a3){event=a1;selector=a2;callback=a3}else{event=a1;callback=a2}}$el=this.getEventTarget($el);if(typeof callback==="string"){callback=this.proxyEvent(this[callback])}event=event+"."+this.cid;if(selector){args=[event,selector,callback]}else{args=[event,callback]}$el.on.apply($el,args)},off:function(a1,a2,a3){var $el,event,selector,args;if(a1 instanceof jQuery){if(a3){$el=a1;event=a2;selector=a3}else{$el=a1;event=a2}}else{if(a2){event=a1;selector=a2}else{event=a1}}$el=this.getEventTarget($el);event=event+"."+this.cid;if(selector){args=[event,selector]}else{args=[event]}$el.off.apply($el,args)},trigger:function(name,args,bubbles){var $el=this.getEventTarget();if(bubbles){$el.trigger.apply($el,arguments)}else{$el.triggerHandler.apply($el,arguments)}return this},addActions:function(actions){actions=actions||this.actions||null;if(!actions)return false;for(var i in actions){this.addAction(i,actions[i])}},removeActions:function(actions){actions=actions||this.actions||null;if(!actions)return false;for(var i in actions){this.removeAction(i,actions[i])}},addAction:function(name,callback,priority){priority=priority||this.priority;if(typeof callback==="string"){callback=this[callback]}acs.addAction(name,callback,priority,this)},removeAction:function(name,callback){acs.removeAction(name,this[callback])},addFilters:function(filters){filters=filters||this.filters||null;if(!filters)return false;for(var i in filters){this.addFilter(i,filters[i])}},addFilter:function(name,callback,priority){priority=priority||this.priority;if(typeof callback==="string"){callback=this[callback]}acs.addFilter(name,callback,priority,this)},removeFilters:function(filters){filters=filters||this.filters||null;if(!filters)return false;for(var i in filters){this.removeFilter(i,filters[i])}},removeFilter:function(name,callback){acs.removeFilter(name,this[callback])},$:function(selector){return this.$el.find(selector)},remove:function(){this.removeEvents();this.removeActions();this.removeFilters();this.$el.remove()},setTimeout:function(callback,milliseconds){return setTimeout(this.proxy(callback),milliseconds)},time:function(){console.time(this.id||this.cid)},timeEnd:function(){console.timeEnd(this.id||this.cid)},show:function(){acs.show(this.$el)},hide:function(){acs.hide(this.$el)},proxy:function(callback){return $.proxy(callback,this)}});Model.extend=extend;acs.models={};acs.getInstance=function($el){return $el.data("acs")};acs.getInstances=function($el){var instances=[];$el.each(function(){instances.push(acs.getInstance($(this)))});return instances}})(jQuery);(function($,undefined){acs.models.Popup=acs.Model.extend({data:{title:"",content:"",width:0,height:0,loading:false},events:{'click [data-event="close"]':"onClickClose","click .acs-close-popup":"onClickClose"},setup:function(props){$.extend(this.data,props);this.$el=$(this.tmpl())},initialize:function(){this.render();this.open()},tmpl:function(){return['<div id="acs-popup">','<div class="acs-popup-box acs-box">','<div class="title"><h3></h3><a href="#" class="acs-icon -cancel grey" data-event="close"></a></div>','<div class="inner"></div>','<div class="loading"><i class="acs-loading"></i></div>',"</div>",'<div class="bg" data-event="close"></div>',"</div>"].join("")},render:function(){var title=this.get("title");var content=this.get("content");var loading=this.get("loading");var width=this.get("width");var height=this.get("height");this.title(title);this.content(content);if(width){this.$(".acs-popup-box").css("width",width)}if(height){this.$(".acs-popup-box").css("min-height",height)}this.loading(loading);acs.doAction("append",this.$el)},update:function(props){this.data=acs.parseArgs(props,this.data);this.render()},title:function(title){this.$(".title:first h3").html(title)},content:function(content){this.$(".inner:first").html(content)},loading:function(show){var $loading=this.$(".loading:first");show?$loading.show():$loading.hide()},open:function(){$("body").append(this.$el)},close:function(){this.remove()},onClickClose:function(e,$el){e.preventDefault();this.close()}});acs.newPopup=function(props){return new acs.models.Popup(props)}})(jQuery);(function($,undefined){acs.models.Modal=acs.Model.extend({data:{title:"",content:"",toolbar:""},events:{"click .acs-modal-close":"onClickClose"},setup:function(props){$.extend(this.data,props);this.$el=$();this.render()},initialize:function(){this.open()},render:function(){var title=this.get("title");var content=this.get("content");var toolbar=this.get("toolbar");var $el=$(["<div>",'<div class="acs-modal">','<div class="acs-modal-title">',"<h2>"+title+"</h2>",'<button class="acs-modal-close" type="button"><span class="dashicons dashicons-no"></span></button>',"</div>",'<div class="acs-modal-content">'+content+"</div>",'<div class="acs-modal-toolbar">'+toolbar+"</div>","</div>",'<div class="acs-modal-backdrop acs-modal-close"></div>',"</div>"].join(""));if(this.$el){this.$el.replaceWith($el)}this.$el=$el;acs.doAction("append",$el)},update:function(props){this.data=acs.parseArgs(props,this.data);this.render()},title:function(title){this.$(".acs-modal-title h2").html(title)},content:function(content){this.$(".acs-modal-content").html(content)},toolbar:function(toolbar){this.$(".acs-modal-toolbar").html(toolbar)},open:function(){$("body").append(this.$el)},close:function(){this.remove()},onClickClose:function(e,$el){e.preventDefault();this.close()}});acs.newModal=function(props){return new acs.models.Modal(props)}})(jQuery);(function($,undefined){var panel=new acs.Model({events:{"click .acs-panel-title":"onClick"},onClick:function(e,$el){e.preventDefault();this.toggle($el.parent())},isOpen:function($el){return $el.hasClass("-open")},toggle:function($el){this.isOpen($el)?this.close($el):this.open($el)},open:function($el){$el.addClass("-open");$el.find(".acs-panel-title i").attr("class","dashicons dashicons-arrow-down")},close:function($el){$el.removeClass("-open");$el.find(".acs-panel-title i").attr("class","dashicons dashicons-arrow-right")}})})(jQuery);(function($,undefined){var Notice=acs.Model.extend({data:{text:"",type:"",timeout:0,dismiss:true,target:false,close:function(){}},events:{"click .acs-notice-dismiss":"onClickClose"},tmpl:function(){return'<div class="acs-notice"></div>'},setup:function(props){$.extend(this.data,props);this.$el=$(this.tmpl())},initialize:function(){this.render();this.show()},render:function(){this.type(this.get("type"));this.html("<p>"+this.get("text")+"</p>");if(this.get("dismiss")){this.$el.append('<a href="#" class="acs-notice-dismiss acs-icon -cancel small"></a>');this.$el.addClass("-dismiss")}var timeout=this.get("timeout");if(timeout){this.away(timeout)}},update:function(props){$.extend(this.data,props);this.initialize();this.removeEvents();this.addEvents()},show:function(){var $target=this.get("target");if($target){$target.prepend(this.$el)}},hide:function(){this.$el.remove()},away:function(timeout){this.setTimeout(function(){acs.remove(this.$el)},timeout)},type:function(type){var prevType=this.get("type");if(prevType){this.$el.removeClass("-"+prevType)}this.$el.addClass("-"+type);if(type=="error"){this.$el.addClass("acs-error-message")}},html:function(html){this.$el.html(acs.escHtml(html))},text:function(text){this.$("p").html(acs.escHtml(text))},onClickClose:function(e,$el){e.preventDefault();this.get("close").apply(this,arguments);this.remove()}});acs.newNotice=function(props){if(typeof props!=="object"){props={text:props}}return new Notice(props)};var noticeManager=new acs.Model({wait:"prepare",priority:1,initialize:function(){var $notice=$(".acs-admin-notice");if($notice.length){$("h1:first").after($notice)}}})})(jQuery);(function($,undefined){acs.newTooltip=function(props){if(typeof props!=="object"){props={text:props}}if(props.confirmRemove!==undefined){props.textConfirm=acs.__("Remove");props.textCancel=acs.__("Cancel");return new TooltipConfirm(props)}else if(props.confirm!==undefined){return new TooltipConfirm(props)}else{return new Tooltip(props)}};var Tooltip=acs.Model.extend({data:{text:"",timeout:0,target:null},tmpl:function(){return'<div class="acs-tooltip"></div>'},setup:function(props){$.extend(this.data,props);this.$el=$(this.tmpl())},initialize:function(){this.render();this.show();this.position();var timeout=this.get("timeout");if(timeout){setTimeout($.proxy(this.fade,this),timeout)}},update:function(props){$.extend(this.data,props);this.initialize()},render:function(){this.html(this.get("text"))},show:function(){$("body").append(this.$el)},hide:function(){this.$el.remove()},fade:function(){this.$el.addClass("acs-fade-up");this.setTimeout(function(){this.remove()},250)},html:function(html){this.$el.html(html)},position:function(){var $tooltip=this.$el;var $target=this.get("target");if(!$target)return;$tooltip.removeClass("right left bottom top").css({top:0,left:0});var tolerance=10;var targetWidth=$target.outerWidth();var targetHeight=$target.outerHeight();var targetTop=$target.offset().top;var targetLeft=$target.offset().left;var tooltipWidth=$tooltip.outerWidth();var tooltipHeight=$tooltip.outerHeight();var tooltipTop=$tooltip.offset().top;var top=targetTop-tooltipHeight-tooltipTop;var left=targetLeft+targetWidth/2-tooltipWidth/2;if(left<tolerance){$tooltip.addClass("right");left=targetLeft+targetWidth;top=targetTop+targetHeight/2-tooltipHeight/2-tooltipTop}else if(left+tooltipWidth+tolerance>$(window).width()){$tooltip.addClass("left");left=targetLeft-tooltipWidth;top=targetTop+targetHeight/2-tooltipHeight/2-tooltipTop}else if(top-$(window).scrollTop()<tolerance){$tooltip.addClass("bottom");top=targetTop+targetHeight-tooltipTop}else{$tooltip.addClass("top")}$tooltip.css({top:top,left:left})}});var TooltipConfirm=Tooltip.extend({data:{text:"",textConfirm:"",textCancel:"",target:null,targetConfirm:true,confirm:function(){},cancel:function(){},context:false},events:{'click [data-event="cancel"]':"onCancel",'click [data-event="confirm"]':"onConfirm"},addEvents:function(){acs.Model.prototype.addEvents.apply(this);var $document=$(document);var $target=this.get("target");this.setTimeout(function(){this.on($document,"click","onCancel")});if(this.get("targetConfirm")){this.on($target,"click","onConfirm")}},removeEvents:function(){acs.Model.prototype.removeEvents.apply(this);var $document=$(document);var $target=this.get("target");this.off($document,"click");this.off($target,"click")},render:function(){var text=this.get("text")||acs.__("Are you sure?");var textConfirm=this.get("textConfirm")||acs.__("Yes");var textCancel=this.get("textCancel")||acs.__("No");var html=[text,'<a href="#" data-event="confirm">'+textConfirm+"</a>",'<a href="#" data-event="cancel">'+textCancel+"</a>"].join(" ");this.html(html);this.$el.addClass("-confirm")},onCancel:function(e,$el){e.preventDefault();e.stopImmediatePropagation();var callback=this.get("cancel");var context=this.get("context")||this;callback.apply(context,arguments);this.remove()},onConfirm:function(e,$el){e.preventDefault();e.stopImmediatePropagation();var callback=this.get("confirm");var context=this.get("context")||this;callback.apply(context,arguments);this.remove()}});acs.models.Tooltip=Tooltip;acs.models.TooltipConfirm=TooltipConfirm;var tooltipHoverHelper=new acs.Model({tooltip:false,events:{"mouseenter .acs-js-tooltip":"showTitle","mouseup .acs-js-tooltip":"hideTitle","mouseleave .acs-js-tooltip":"hideTitle"},showTitle:function(e,$el){var title=$el.attr("title");if(!title){return}$el.attr("title","");if(!this.tooltip){this.tooltip=acs.newTooltip({text:title,target:$el})}else{this.tooltip.update({text:title,target:$el})}},hideTitle:function(e,$el){this.tooltip.hide();$el.attr("title",this.tooltip.get("text"))}})})(jQuery);